<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>STUDY — JEONHYERIN</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css">
  <link rel="stylesheet" href="styles.css?v=20260302-footer-final">
</head>
<body class="page-study-magazine">
  
  <!-- Navigation -->
  <nav class="nav nav--archive magazine-nav" aria-label="Main navigation">
    <div class="nav-inner">
      <a href="index.html" class="nav-logo" data-mobile-logo="J-HR">JEONHYERIN</a>
      <div class="nav-links">
        <a href="projects.html" class="nav-link">PROJECTS</a>
        <a href="drawings.html" class="nav-link">DRAWINGS</a>
        <a href="graphics.html" class="nav-link">GRAPHICS</a>
        <a href="dd.html" class="nav-link">DD</a>


        <a href="about.html" class="nav-link">ABOUT</a>
      </div>
    </div>
  </nav>

  <!-- Magazine Content -->
  <main class="magazine-content">
    <div class="magazine-list" id="magazineList">
      <!-- Articles will be loaded here -->
    </div>
  </main>

  <footer class="site-footer">
    <div class="site-footer-inner">
      
      <div class="footer-header">
        <div class="footer-logo">JEONHYERIN</div>
        <p class="footer-description">
          This portfolio documents architectural explorations that question conventional spatial relationships. Through rigorous investigation and material experimentation, each project seeks to reveal the poetic potential hidden within structural necessities and programmatic constraints.
        </p>
      </div>
      
      <hr class="footer-divider">
      
      <div class="footer-columns">
        <div class="footer-column-left">
          <div class="footer-projects-wrapper">
            <h3 class="footer-section-title">PROJECTS</h3>
            <nav class="footer-projects" id="footerProjectList">
              <!-- 동적으로 렌더링됨 -->
            </nav>
          </div>
        </div>
        
        <div class="footer-column-center">
          <div class="footer-projects-wrapper">
            <h3 class="footer-section-title">DRAWINGS</h3>
            <nav class="footer-projects" id="footerDrawingList">
              <!-- 동적으로 렌더링됨 -->
            </nav>
          </div>
        </div>
        
        <div class="footer-column-right">
          <div class="footer-projects-wrapper">
            <h3 class="footer-section-title">GRAPHICS</h3>
            <nav class="footer-projects" id="footerGraphicList">
              <!-- 동적으로 렌더링됨 -->
            </nav>
          </div>
        </div>
      
        <div class="footer-column-study">
          <div class="footer-projects-wrapper">
            <h3 class="footer-section-title">STUDY</h3>
            <nav class="footer-projects">
              <a href="study.html" class="footer-project-link">Study</a>
            </nav>
          </div>
        </div>
      </div>
      
      <hr class="footer-divider">
      
      <div class="footer-bottom">
        <p class="footer-copyright">
          © 2026 JEONHYERIN. All rights reserved. The material on this site may not be reproduced, distributed, transmitted, cached or otherwise used, except with the prior written permission of the author.
        </p>
        <div class="footer-social">
          <a href="mailto:rnaakfn123@gmail.com" class="footer-social-link" aria-label="Email">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
          </a>
          <a href="https://www.instagram.com/herisharch/" class="footer-social-link" target="_blank" rel="noopener" aria-label="Instagram">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <div class="study-modal" id="studyModal" aria-hidden="true">
    <div class="study-modal-backdrop" id="studyModalBackdrop"></div>
    <article class="study-modal-panel" role="dialog" aria-modal="true" aria-labelledby="studyModalTitle">
      <button class="study-modal-close" id="studyModalClose" aria-label="Close study popup">×</button>
      <p class="study-modal-category" id="studyModalCategory"></p>
      <h2 class="study-modal-title" id="studyModalTitle"></h2>
      <time class="study-modal-date" id="studyModalDate"></time>
      <p class="study-modal-content" id="studyModalContent"></p>
    </article>
  </div>

  <!-- Magazine Data -->
  <script type="application/json" id="magazineData">
[
  {
    "id": 1,
    "category": "ARCHITECTURE",
    "title": "Dutch House Analysis",
    "date": "2026-01-15",
    "content": "A deep dive into Rem Koolhaas's Dutch House design principles...",
    "link": "",
    "visible": true
  },
  {
    "id": 2,
    "category": "STUDY",
    "title": "Material Exploration",
    "date": "2026-01-10",
    "content": "Exploring various architectural materials and their applications...",
    "link": "",
    "visible": true
  },
  {
    "id": 3,
    "category": "STUDY",
    "title": "New Article",
    "date": "2026-02-03",
    "content": "",
    "link": "",
    "visible": true
  }
]
</script>

  <script type="application/json" id="footerData">{"tabs": [{"id": "projects", "name": "PROJECTS", "file": "projects.html", "mode": "project", "visible": true, "items": [{"title": "MONTANA HANNAM", "visible": true}, {"title": "SOFT CONCRETE", "visible": true}, {"title": "AGING IN PLACE", "visible": true}, {"title": "RE:MAIN", "visible": true}, {"title": "YELLOW STOP", "visible": true}, {"title": "HIDDEN EXHIBITION", "visible": true}, {"title": "THE ANTS AND THE ALLEY", "visible": true}, {"title": "MATERIAL VILLIAGE", "visible": true}, {"title": "CASA DAS CANOAS", "visible": true}]}, {"id": "drawings", "name": "DRAWINGS", "file": "drawings.html", "mode": "project", "visible": true, "items": [{"title": "JuunJ", "visible": true}, {"title": "SECTION STUDIES", "visible": true}, {"title": "MATERIAL EXPLORATIONS", "visible": true}, {"title": "MONTANA", "visible": true}]}, {"id": "graphics", "name": "GRAPHICS", "file": "graphics.html", "mode": "project", "visible": true, "items": [{"title": "SEQUENCE", "visible": true}]}, {"id": "dd", "name": "DD", "file": "dd.html", "mode": "project", "visible": true, "items": [{"title": "NEW PROJECT", "visible": true}]}], "projects": [{"title": "MONTANA HANNAM", "visible": true}, {"title": "SOFT CONCRETE", "visible": true}, {"title": "AGING IN PLACE", "visible": true}, {"title": "RE:MAIN", "visible": true}, {"title": "YELLOW STOP", "visible": true}, {"title": "HIDDEN EXHIBITION", "visible": true}, {"title": "THE ANTS AND THE ALLEY", "visible": true}, {"title": "MATERIAL VILLIAGE", "visible": true}, {"title": "CASA DAS CANOAS", "visible": true}], "drawings": [{"title": "JuunJ", "visible": true}, {"title": "SECTION STUDIES", "visible": true}, {"title": "MATERIAL EXPLORATIONS", "visible": true}, {"title": "MONTANA", "visible": true}], "graphics": [{"title": "SEQUENCE", "visible": true}]}</script>

  <script>
    // Format date to magazine style
    function formatDate(dateStr) {
      const date = new Date(dateStr);
      const options = { 
        year: 'numeric', 
        month: 'short', 
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      };
      return date.toLocaleDateString('en-US', options).toUpperCase().replace(',', '');
    }

    function getArticleUrl(article) {
      const rawLink = (article.link || '').trim();
      if (rawLink) {
        const projectMatch = rawLink.match(/^project:(.+)$/i);
        if (projectMatch && projectMatch[1].trim()) {
          return `projects.html?project=${encodeURIComponent(projectMatch[1].trim())}&autopopup=1`;
        }
        return rawLink;
      }

      const category = (article.category || '').trim().toLowerCase();
      if (category === 'project' || category === 'projects') {
        const projectKey = (article.project_slug || article.slug || article.title || '').trim();
        if (projectKey) {
          return `projects.html?project=${encodeURIComponent(projectKey)}&autopopup=1`;
        }
        return 'projects.html?autopopup=1';
      }

      return '';
    }

    function openStudyModal(article) {
      const modal = document.getElementById('studyModal');
      if (!modal) return;

      document.getElementById('studyModalCategory').textContent = article.category || 'STUDY';
      document.getElementById('studyModalTitle').textContent = article.title || '';
      document.getElementById('studyModalDate').textContent = formatDate(article.date || new Date().toISOString());
      document.getElementById('studyModalContent').textContent = (article.content || '').trim() || 'No description.';

      modal.classList.add('show');
      modal.setAttribute('aria-hidden', 'false');
      document.body.classList.add('overlay-open');
    }

    function closeStudyModal() {
      const modal = document.getElementById('studyModal');
      if (!modal) return;
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden', 'true');
      document.body.classList.remove('overlay-open');
    }

    function bindArticleEvents(container, articles) {
      container.querySelectorAll('.magazine-article').forEach(articleEl => {
        articleEl.addEventListener('click', () => {
          const idx = Number(articleEl.dataset.index || -1);
          const article = articles[idx];
          if (!article) return;

          const url = articleEl.dataset.url || '';
          if (/^https?:\/\//i.test(url)) {
            window.open(url, '_blank', 'noopener');
            return;
          }
          if (url) {
            window.location.href = url;
            return;
          }

          openStudyModal(article);
        });
      });
    }

    // Render magazine articles
    function renderMagazine() {
      const container = document.getElementById('magazineList');
      const dataEl = document.getElementById('magazineData');
      
      if (!dataEl) return;
      
      let articles = [];
      try {
        articles = JSON.parse(dataEl.textContent);
      } catch (e) {
        console.warn('Could not parse magazine data:', e);
        return;
      }

      const visibleArticles = articles.filter(a => a.visible !== false);

      container.innerHTML = visibleArticles
        .map((article, index) => {
          const url = getArticleUrl(article);
          const safeUrl = url ? url.replace(/"/g, '&quot;') : '';
          return `
          <article class="magazine-article" data-index="${index}" ${safeUrl ? `data-url="${safeUrl}"` : ''}>
            <span class="magazine-category">${article.category || 'STUDY'}</span>
            <h2 class="magazine-title">${article.title}</h2>
            <time class="magazine-date">${formatDate(article.date)}</time>
          </article>
        `;
        }).join('');

      bindArticleEvents(container, visibleArticles);
    }

    document.addEventListener('DOMContentLoaded', () => {
      renderMagazine();

      const closeBtn = document.getElementById('studyModalClose');
      const backdrop = document.getElementById('studyModalBackdrop');
      if (closeBtn) closeBtn.addEventListener('click', closeStudyModal);
      if (backdrop) backdrop.addEventListener('click', closeStudyModal);

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeStudyModal();
      });
    });
  </script>

  <script src="script.js?v=20260302-footer-final"></script>
</body>
</html>
